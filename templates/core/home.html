{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <link rel="icon" type="image/x-icon" href="{% static 'img/favicon.ico' %}">
  <link rel="icon" type="image/png" href="{% static 'img/favicon-32.png' %}">

  <!-- Primary Meta Tags -->
  <title>drafthub: blog like a developer</title>
  <meta name="title" content="drafthub: blog like a developer">
  <meta name="description" content="Start your own developer blog using git and markdown and integrate the GitHub community">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://drafthub.herokuapp.com/">
  <meta property="og:title" content="drafthub: blog like a developer">
  <meta property="og:description" content="Start your own developer blog using git and markdown and integrate the GitHub community">
  <meta property="og:image" content="https://i.ibb.co/McvBBRT/drafthub-1.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://drafthub.herokuapp.com/">
  <meta property="twitter:title" content="drafthub: blog like a developer">
  <meta property="twitter:description" content="Start your own developer blog using git and markdown and integrate the GitHub community">
  <meta property="twitter:image" content="https://i.ibb.co/McvBBRT/drafthub-1.png">

  <!---->
  <link rel="stylesheet" href="{% static 'css/theme.css' %}">
  <link rel="stylesheet" href="https://cdn.materialdesignicons.com/5.3.45/css/materialdesignicons.min.css">

</head>

<body>
<div id="app">
  <b-navbar class="container" shadow>
    <template slot="brand">
      <b-navbar-item>
        <b-taglist attached>
          <a class="tag is-dark" ><strong>drafthub</strong></a>
          <a class="tag is-primary"><strong>/home</strong></a>
        </b-taglist>
      </b-navbar-item>
      <a class="navbar-item"><b-icon size="is-small" icon="github"></b-icon></a>
      <a class="navbar-item"><b-icon size="is-small" icon="twitter"></b-icon></a>
      <a class="navbar-item"><b-icon size="is-small" icon="patreon"></b-icon></a>
      <a class="navbar-item"><b-icon size="is-small" icon="linkedin"></b-icon></a>
    </template>
    <template slot="end">
      {% if user.is_authenticated %}
      <b-navbar-dropdown right label="felipelincoln">
        <b-navbar-item href="#">
          New draft
        </b-navbar-item>
        <b-navbar-item href="#">
          Blog
        </b-navbar-item>
        <b-navbar-item href="#">
          Favorites
        </b-navbar-item>
        <hr class="dropdown-divider">
        <b-navbar-item href="#">
          Logout
        </b-navbar-item>
      </b-navbar-dropdown>
      {% else %}
      <b-navbar-item tag="div">
        <b-button type="is-primary" size="is-small" icon-left="github">
          <strong>Sign in/up</strong>
        </b-button>
      </b-navbar-item>
      {% endif %}
    </template>
  </b-navbar>

  <div class="container mt-5" style="display:flex;">
    <section class="box" style="flex-grow:1;">
    <p class="has-text-weight-bold has-text-grey-light pb-5 is-size-7">MOST POPULAR</p>

    {% for draft in home_drafts %}
      <!--
      <span
        class="has-text-danger has-text-weight-bold mr-1 is-family-monospace"
        style="float:left;">
        POPULAR
      </span>
      -->
      <dh-article
        title="{{ draft.title }}"
        href="{{ draft.get_absolute_url }}"
        author="{{ draft.blog }}"
        blog="{{ draft.blog.get_absolute_url }}"
        created="{{ draft.created|date:'M j' }}"
        updated="{{ draft.updated }}"
        hits="{{ draft.hits }}"
        src="https://picsum.photos/128/8{{ forloop.counter }}">
        {% for tag in draft.tags.all %}
          <dh-tag href="{{ tag.get_absolute_url }}">
            {{ tag }}
          </dh-tag>
        {% endfor %}
      </dh-article>
    {% endfor %}

    <p class="has-text-weight-bold has-text-grey-light pb-5 pt-5 is-size-7">LATEST ARTICLES</p>
    {% for draft in home_new_drafts %}
      <dh-article
        title="{{ draft.title }}"
        href="{{ draft.get_absolute_url }}"
        author="{{ draft.blog }}"
        blog="{{ draft.blog.get_absolute_url }}"
        created="{{ draft.created|date:'M j'}}"
        updated="{{ draft.updated }}"
        hits="{{ draft.hits }}"
        src="https://picsum.photos/127/8{{ forloop.counter }}">
        {% for tag in draft.tags.all %}
          <dh-tag href="{{ tag.get_absolute_url }}">
            {{ tag }}
          </dh-tag>
        {% endfor %}
      </dh-article>
    {% endfor %}
    </section>
    <aside class="is-hidden-mobile ml-5" style="width:30%;flex-shrink:0;">
      <div class="box">
        <p class="has-text-weight-semibold pb-5">Homepage</p>
        <p>Contribute to drafthub</p>
        <ul>
          <li>Issue #1</li>
          <li>Issue #2</li>
          <li>Issue #3</li>
        </ul>
      </div>
      <div class="box">
        <p class="has-text-weight-semibold pb-5">Most active topics</p>
        {% for tag in home_tags %}
          <a href="{{ tag.get_absolute_url }}"><p>{{ forloop.counter }}. {{ tag }}</p></a>
        {% endfor %}
      </div>
      <div class="box">
        <p class="has-text-weight-semibold pb-5">Popular blogs</p>
        {% for blog in home_blogs %}
          <a href="{{ blog.get_absolute_url }}"><p>{{ forloop.counter }}. {{ blog }}</p></a>
        {% endfor %}
      </div>
    </aside>
  </div>
  <footer class="footer">
    <div class="content has-text-centered">
      <p>
        <strong>Bulma</strong> by <a href="https://jgthms.com">Jeremy Thomas</a>. The source code is licensed
        <a href="http://opensource.org/licenses/mit-license.php">MIT</a>. The website content
        is licensed <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY NC SA 4.0</a>.
      </p>
    </div>
  </footer>

  </div> <!-- app -->

  <script src="https://kit.fontawesome.com/c17adb2a33.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/vue"></script>
  <script src="https://unpkg.com/buefy/dist/buefy.min.js"></script>
  <script src="{% static 'js/vue.js' %}"></script>

</body>
</html>
